<!doctype html>

<html>

<head>

<meta charset="utf-8">

<!-- load D3js -->
<script src="d3.js"></script>

<!-- load topojson library -->
<script src="topojson.js"></script>

<!-- load D3plus after D3js -->
<script src="d3plus.js"></script>

<!-- create container element for visualization -->
<div id="viz"></div>
    
<style>
    
    tspan {
        font-family: Arial, Helvetica, sans-serif;
        /*font-size:1.3em;*/
        margin:30px;
    }
    
    #viz {
        /*margin-top:200px;
        width: 800px;   
        height: 800px;*/
    }
    
    #viz_sankey {
        width: 1200px;
        height:600px;
        margin-top:100px;
        margin-left:400px;
        margin-right:300px;
        margin-bottom:200px;
        
    }
    
    #sankey_container {
        background-color:white;
    }
    
</style>

</head>

<body>
    
<div id="viz-with-internal">
    
</div>    
        
<script>

var data_with_nilu_internal = [
    {"users":1294, "country":"eunor", "name":"Norway (503) + NILU Internal (791)"},
    {"users":530, "country":"nausa", "name":"United States"},
    {"users":500, "country":"eugbr", "name":"United Kingdom"},
    {"users":383, "country":"eudeu", "name":"Germany"},
    {"users":330, "country":"euche", "name":"Switzerland"},
    {"users":172, "country":"euswe", "name":"Sweden"},
    {"users":175, "country":"eufin", "name":"Finland"},
    {"users":217, "country":"eufra", "name":"France"},
    {"users":258, "country":"eugrc", "name":"Greece"},
    {"users":241, "country":"euita", "name":"Italy"},
    {"users":97, "country":"aschn", "name":"China"},
    {"users":58, "country":"asjpn", "name":"Japan"},
    {"users":119, "country":"eunld", "name":"Netherlands"},
    {"users":89, "country":"eucze", "name":"Czech Republic"},
    {"users":89, "country":"nacan", "name":"Canada"},
    {"users":169, "country":"euesp", "name":"Spain"},
    {"users":55, "country":"askor", "name":"South Korea"},
    {"users":42, "country":"eudnk", "name":"Denmark"},
    {"users":94, "country":"eupol", "name":"Poland"},
    {"users":43, "country":"asrus", "name":"Russia"},
    {"users":29, "country":"ocaus", "name":"Australia"},
    {"users":16, "country":"euisl", "name":"Iceland"},
    {"users":29, "country":"eubel", "name":"Belgium"},
    {"users":18, "country":"asind", "name":"India"},
    {"users":54, "country":"euirl", "name":"Ireland"},
    {"users":11, "country":"eusvn", "name":"Slovenia"},
    {"users":14, "country":"assgp", "name":"Singapore"},
    {"users":30, "country":"euaut", "name":"Austria"},
    {"users":5, "country":"eublr", "name":"Belarus"},
    {"users":11, "country":"eusvk", "name":"Slovakia"},
    {"users":10, "country":"euhrv", "name":"Croatia"},
    {"users":4, "country":"sabra", "name":"Brazil"},
    {"users":12, "country":"astwn", "name":"Taiwan"},
    {"users":26, "country":"astur", "name":"Turkey"},
    {"users":2, "country":"ocnzl", "name":"New Zealand"},
    {"users":3, "country":"eulux", "name":"Luxembourg"},
    {"users":7, "country":"euest", "name":"Estonia"},
    {"users":4, "country":"afzaf", "name":"South Africa"},
    {"users":48, "country":"euhun", "name":"Hungary"},
    {"users":21, "country":"euprt", "name":"Portugal"},
    {"users":17, "country":"eurou", "name":"Romania"},
    {"users":17, "country":"ocidn", "name":"Indonesia"},
    {"users":14, "country":"eusrb", "name":"Serbia"},
    {"users":10, "country":"eubgr", "name":"Bulgaria"},
    {"users":10, "country":"eultu", "name":"Lithuania"},
    {"users":9, "country":"asisr", "name":"Israel"},
    {"users":6, "country":"ashkg", "name":"Hong Kong"},
    {"users":6, "country":"afegy", "name":"Egypt"},
    {"users":6, "country":"sabol", "name":"Bolivia"},
    {"users":6, "country":"asirn", "name":"Iran"},
    {"users":6, "country":"ascyp", "name":"Cyprus"},
    {"users":5, "country":"eulva", "name":"Latvia"},
    {"users":5, "country":"euukr", "name":"Ukraine"},
    {"users":4, "country":"eumkd", "name":"Macedonia"},
    {"users":4, "country":"eumlt", "name":"Malta"},
    {"users":4, "country":"asarm", "name":"Armenia"},
    {"users":3, "country":"afdza", "name":"Algeria"},
    {"users":3, "country":"afreu", "name":"Reunion"},
    {"users":3, "country":"asnpl", "name":"Nepal"},
    {"users":3, "country":"eubih", "name":"Bosnia and Herzegovina"},
    {"users":3, "country":"afmar", "name":"Morocco"},
    {"users":3, "country":"afken", "name":"Kenya"},
    {"users":3, "country":"asmys", "name":"Malaysia"},
    {"users":2, "country":"napri", "name":"Puerto Rico"},
    {"users":2, "country":"saper", "name":"Peru"},
    {"users":2, "country":"sacol", "name":"Colombia"},
    {"users":2, "country":"sachl", "name":"Chile"},
    {"users":2, "country":"asgeo", "name":"Georgia"},
    {"users":2, "country":"saarg", "name":"Argentina"},
    {"users":2, "country":"assau", "name":"Saudi Arabia"},
    {"users":1, "country":"asbgd", "name":"Bangladesh"},
    {"users":1, "country":"asare", "name":"United Arab Emirates"},
    {"users":1, "country":"astha", "name":"Thailand"},
    {"users":1, "country":"asvnm", "name":"Vietnam"},
    {"users":1, "country":"asqat", "name":"Qatar"},
    {"users":1, "country":"saury", "name":"Uruguay"},
    {"users":1, "country":"namex", "name":"Mexico"}

]

  var visualization = d3plus.viz()
    .container("#viz-with-internal")       
    .data(data_with_nilu_internal)        
    .coords("countries.json")
    .type("geo_map")          
    .id("country")            
    .text("name")
    .background("#ffffff") 
    .legend({
        "value": true,
    })
    .color({
        "heatmap":["#fff5f0","#67000d"], 
        "value":"users"
    })           
    .tooltip("users")         
    .title({
       "sub": "EBAS Data Access by User: With NILU internal users",
      "total": true,
      "width": 1200
       
    })
    .legend({"size": 50})
    .font({"size": 20})   
    .draw()                   
  
</script>
    <hr>
<div id="viz-without-internal">
    
</div>       
    
<script>

  var data_without_nilu_internal = [
    {"users":503, "country":"eunor", "name":"Norway"},
    {"users":530, "country":"nausa", "name":"United States"},
    {"users":500, "country":"eugbr", "name":"United Kingdom"},
    {"users":383, "country":"eudeu", "name":"Germany"},
    {"users":330, "country":"euche", "name":"Switzerland"},
    {"users":172, "country":"euswe", "name":"Sweden"},
    {"users":175, "country":"eufin", "name":"Finland"},
    {"users":217, "country":"eufra", "name":"France"},
    {"users":258, "country":"eugrc", "name":"Greece"},
    {"users":241, "country":"euita", "name":"Italy"},
    {"users":97, "country":"aschn", "name":"China"},
    {"users":58, "country":"asjpn", "name":"Japan"},
    {"users":119, "country":"eunld", "name":"Netherlands"},
    {"users":89, "country":"eucze", "name":"Czech Republic"},
    {"users":89, "country":"nacan", "name":"Canada"},
    {"users":169, "country":"euesp", "name":"Spain"},
    {"users":55, "country":"askor", "name":"South Korea"},
    {"users":42, "country":"eudnk", "name":"Denmark"},
    {"users":94, "country":"eupol", "name":"Poland"},
    {"users":43, "country":"asrus", "name":"Russia"},
    {"users":29, "country":"ocaus", "name":"Australia"},
    {"users":16, "country":"euisl", "name":"Iceland"},
    {"users":29, "country":"eubel", "name":"Belgium"},
    {"users":18, "country":"asind", "name":"India"},
    {"users":54, "country":"euirl", "name":"Ireland"},
    {"users":11, "country":"eusvn", "name":"Slovenia"},
    {"users":14, "country":"assgp", "name":"Singapore"},
    {"users":30, "country":"euaut", "name":"Austria"},
    {"users":5, "country":"eublr", "name":"Belarus"},
    {"users":11, "country":"eusvk", "name":"Slovakia"},
    {"users":10, "country":"euhrv", "name":"Croatia"},
    {"users":4, "country":"sabra", "name":"Brazil"},
    {"users":12, "country":"astwn", "name":"Taiwan"},
    {"users":26, "country":"astur", "name":"Turkey"},
    {"users":2, "country":"ocnzl", "name":"New Zealand"},
    {"users":3, "country":"eulux", "name":"Luxembourg"},
    {"users":7, "country":"euest", "name":"Estonia"},
    {"users":4, "country":"afzaf", "name":"South Africa"},
    {"users":48, "country":"euhun", "name":"Hungary"},
    {"users":21, "country":"euprt", "name":"Portugal"},
    {"users":17, "country":"eurou", "name":"Romania"},
    {"users":17, "country":"ocidn", "name":"Indonesia"},
    {"users":14, "country":"eusrb", "name":"Serbia"},
    {"users":10, "country":"eubgr", "name":"Bulgaria"},
    {"users":10, "country":"eultu", "name":"Lithuania"},
    {"users":9, "country":"asisr", "name":"Israel"},
    {"users":6, "country":"ashkg", "name":"Hong Kong"},
    {"users":6, "country":"afegy", "name":"Egypt"},
    {"users":6, "country":"sabol", "name":"Bolivia"},
    {"users":6, "country":"asirn", "name":"Iran"},
    {"users":6, "country":"ascyp", "name":"Cyprus"},
    {"users":5, "country":"eulva", "name":"Latvia"},
    {"users":5, "country":"euukr", "name":"Ukraine"},
    {"users":4, "country":"eumkd", "name":"Macedonia"},
    {"users":4, "country":"eumlt", "name":"Malta"},
    {"users":4, "country":"asarm", "name":"Armenia"},
    {"users":3, "country":"afdza", "name":"Algeria"},
    {"users":3, "country":"afreu", "name":"Reunion"},
    {"users":3, "country":"asnpl", "name":"Nepal"},
    {"users":3, "country":"eubih", "name":"Bosnia and Herzegovina"},
    {"users":3, "country":"afmar", "name":"Morocco"},
    {"users":3, "country":"afken", "name":"Kenya"},
    {"users":3, "country":"asmys", "name":"Malaysia"},
    {"users":2, "country":"napri", "name":"Puerto Rico"},
    {"users":2, "country":"saper", "name":"Peru"},
    {"users":2, "country":"sacol", "name":"Colombia"},
    {"users":2, "country":"sachl", "name":"Chile"},
    {"users":2, "country":"asgeo", "name":"Georgia"},
    {"users":2, "country":"saarg", "name":"Argentina"},
    {"users":2, "country":"assau", "name":"Saudi Arabia"},
    {"users":1, "country":"asbgd", "name":"Bangladesh"},
    {"users":1, "country":"asare", "name":"United Arab Emirates"},
    {"users":1, "country":"astha", "name":"Thailand"},
    {"users":1, "country":"asvnm", "name":"Vietnam"},
    {"users":1, "country":"asqat", "name":"Qatar"},
    {"users":1, "country":"saury", "name":"Uruguay"},
    {"users":1, "country":"namex", "name":"Mexico"}
]

  var visualization = d3plus.viz()
    .container("#viz-without-internal")        
    .data(data_without_nilu_internal)        
    .coords("countries.json")
    .type("geo_map")        
    .id("country")            
    .labels({"value": true})
    .text("name")
    .background("#ffffff") 
    .color({"heatmap":["#fff5f0","#67000d"], 
            "value":"users"})           
    .tooltip("users")         // keys to place in tooltip
    .title({
       "sub": "EBAS Data Access by User: Without NILU internal users",
      "total": true,
      "width": 1200,       
    })
    .legend({"size": 50})
    .font({"size": 20})    
    .draw()                   
  

  
</script>
 
</body>

</html>