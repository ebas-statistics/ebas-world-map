<!doctype html>

<html>

<head>

<meta charset="utf-8">

<!-- load D3js -->
<script src="d3.js"></script>

<!-- load topojson library -->
<script src="topojson.js"></script>

<!-- load D3plus after D3js -->
<script src="d3plus.js"></script>

<!-- create container element for visualization -->
<div id="viz"></div>
    
<style>
    
    tspan {
        font-family: Arial, Helvetica, sans-serif;
        /*font-size:1.3em;*/
        margin:30px;
    }
    
    #viz {
        /*margin-top:200px;
        width: 800px;   
        height: 800px;*/
    }
    
    #viz_sankey {
        width: 1200px;
        height:600px;
        margin-top:100px;
        margin-left:400px;
        margin-right:300px;
        margin-bottom:200px;
        
    }
    
    #sankey_container {
        background-color:grey;
    }
    
</style>

</head>

<body>
    
<div id="viz-zeppelin-all">
    
</div>    
        
<script>

var sample_data = [
    {"users":205, "country":"eunor", "name":"Norway"},
    {"users":138, "country":"nausa", "name":"United States"},
    {"users":99, "country":"eugbr", "name":"United Kingdom"},
    {"users":61, "country":"eudeu", "name":"Germany"},
    {"users":61, "country":"euche", "name":"Switzerland"},
    {"users":56, "country":"euswe", "name":"Sweden"},
    {"users":49, "country":"eufin", "name":"Finland"},
    {"users":40, "country":"eufra", "name":"France"},
    {"users":34, "country":"eugrc", "name":"Greece"},
    {"users":32, "country":"euita", "name":"Italy"},
    {"users":30, "country":"aschn", "name":"China"},
    {"users":24, "country":"asjpn", "name":"Japan"},
    {"users":30, "country":"eunld", "name":"Netherlands"},
    {"users":24, "country":"eucze", "name":"Czech Republic"},
    {"users":22, "country":"nacan", "name":"Canada"},
    {"users":17, "country":"euesp", "name":"Spain"},
    {"users":16, "country":"askor", "name":"South Korea"},
    {"users":10, "country":"eudnk", "name":"Denmark"},
    {"users":9, "country":"eupol", "name":"Poland"},
    {"users":8, "country":"asrus", "name":"Russia"},
    {"users":6, "country":"ocaus", "name":"Australia"},
    {"users":4, "country":"euisl", "name":"Iceland"},
    {"users":5, "country":"eubel", "name":"Belgium"},
    {"users":4, "country":"asind", "name":"India"},
    {"users":4, "country":"euirl", "name":"Ireland"},
    {"users":4, "country":"eusvn", "name":"Slovenia"},
    {"users":3, "country":"assgp", "name":"Singapore"},
    {"users":3, "country":"euaut", "name":"Austria"},
    {"users":2, "country":"eublr", "name":"Belarus"},
    {"users":2, "country":"eusvk", "name":"Slovakia"},
    {"users":1, "country":"euhrv", "name":"Croatia"},
    {"users":1, "country":"sabra", "name":"Brazil"},
    {"users":1, "country":"astwn", "name":"Taiwan"},
    {"users":1, "country":"astur", "name":"Turkey"},
    {"users":1, "country":"ocnzl", "name":"New Zealand"},
    {"users":1, "country":"eulux", "name":"Luxembourg"},
    {"users":1, "country":"euest", "name":"Estonia"},
    {"users":1, "country":"afzaf", "name":"South Africa"},

]

  var visualization = d3plus.viz()
    .container("#viz-zeppelin-all")       
    .data(sample_data)        
    .coords("countries.json")
    .type("geo_map")          
    .id("country")            
    .text("name")
    .background("#f0f0f0") 
    .legend({
        "value": true,
    })
    .color({
        "heatmap":["#4393c3","#b2182b"], 
        "value":"users"
    })           
    .tooltip("users")         
    .title({
       "sub": "Data Access by User Country: Zeppelin (all)",
      "total": true,
      "width": 1200
       
    })
    .font({"size": 40})   
    .draw()                   
  
</script>
    <hr>
<div id="viz-zeppelin-only-actris-variables">
    
</div>       
    
<script>

  var sample_data = [
{"users":118, "country":"eunor", "name":"Norway"},
{"users":98, "country":"nausa", "name":"United States"},
{"users":46, "country":"eugbr", "name":"United Kingdom"},
{"users":42, "country":"eufin", "name":"Finland"},
{"users":40, "country":"euswe", "name":"Sweden"},
{"users":34, "country":"eudeu", "name":"Germany"},
{"users":30, "country":"eufra", "name":"France"},
{"users":30, "country":"euche", "name":"Switzerland"},
{"users":25, "country":"eugrc", "name":"Greece"},
{"users":19, "country":"eunld", "name":"Netherlands"},
{"users":18, "country":"nacan", "name":"Canada"},
{"users":17, "country":"asjpn", "name":"Japan"},
{"users":17, "country":"aschn", "name":"China"},
{"users":15, "country":"euita", "name":"Italy"},
{"users":12, "country":"askor", "name":"South Korea"},
{"users":7, "country":"eudnk", "name":"Denmark"},
{"users":5, "country":"euesp", "name":"Spain"},
{"users":4, "country":"asind", "name":"India"},
{"users":3, "country":"eubel", "name":"Belgium"},
{"users":3, "country":"asrus", "name":"Russia"},
{"users":3, "country":"euisl", "name":"Iceland"},
{"users":3, "country":"eupol", "name":"Poland"},
{"users":3, "country":"ocaus", "name":"Australia"},
{"users":3, "country":"assgp", "name":"Singapore"},
{"users":2, "country":"euirl", "name":"Ireland"},
{"users":2, "country":"euaut", "name":"Austria"},
{"users":1, "country":"eulux", "name":"Luxembourg"},
{"users":1, "country":"euest", "name":"Estonia"},
{"users":1, "country":"eucze", "name":"Czech Republic"},
{"users":1, "country":"afzaf", "name":"South Africa"},
]

  var visualization = d3plus.viz()
    .container("#viz-zeppelin-only-actris-variables")        
    .data(sample_data)        
    .coords("countries.json")
    .type("geo_map")        
    .id("country")            
    .labels({"value": true})
    .text("name")
    .background("#f0f0f0") 
    .color({"heatmap":["#4393c3","#b2182b"], "value":"users"})           
    .tooltip("users")         // keys to place in tooltip
    .title({
       "sub": "Data Access by User Country: Zeppelin (only ACTRIS variables)",
      "total": true,
      "width": 1200,       
    })
    .font({"size": 40})   
    .draw()                   
  

  
</script>
 
</body>

</html>